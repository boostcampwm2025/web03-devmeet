# card 테이블은 다음과 같은 방식으로 설계하였습니다.

## 테이블 구조

카드 시스템은 공통 속성과 타입별 속성을 분리하는 방식으로 설계하였습니다.

- card_items
→ 카드 아이템의 공통 규칙를 관리하는 테이블

- card_item_texts

- card_item_images

- card_item_videos
→ 아이템 타입별 전용 속성을 관리하는 테이블

이 구조는 전형적인 CTI 패턴을 기반으로 합니다.

# 이 설계에 장점과 단점은 다음과 같습니다.

## 장점

1. 확장성이 좋다.

  - 새로운 카드 타입 추가가 용이하다
    - card_items + 신규 타입 전용 테이블만 추가하면 된다.
  
  - 기존 타입에 속성을 확장하기 쉽다
    - 공통 테이블에 영향을 주지 않고 타입별 테이블에 컬럼을 추가할 수 있다.

2. 관리와 개발하기가 좋다.

  - 각 타입을 독립적인 단위로 관리할 수 있다.

  - 개발 시 타입별 책임이 분리되어 있어 유지보수가 수월하다.

## 단점

1. 성능 저하 문제

  - 데이터 조회 시 여러 테이블 조인이 필요하다.

2. 개발 복잡도 증가

  - 저장 시 정합성 관리가 필요하다.
    - 공통 테이블과 타입 테이블 간 데이터 일관성 유지

  - 삭제, 수정 로직에서 여러 테이블을 동시에 고려해야 한다.

  - 실수로 인한 데이터 불일치 가능성이 존재한다.

## 선택이유

  - 카드 요소에 추가 기능이 생길 가능성이 높다

  - 기존 타입의 속성 변경 및 확장 가능성이 높다

## 단점 보안을 위한 노력

  - Redis 캐싱 전략 도입

  - FK 최소화 + 인덱스 기반 관리

  - 조회 최적화 전략
    - UNION을 활용하여 쿼리 수를 제한

    - card_id를 알고 있다는 전제 하에
      - card_items와 타입 테이블을 1회 JOIN
